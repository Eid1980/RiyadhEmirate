<div class="ser-bg">
  <div class="ser-bread">
    <nav class="breadcrumb m-0 bg-transparent">
      <div class="container d-flex align-items-center">
        <a class="breadcrumb-item" [routerLink]="['/']"><i class="las la-home"></i>الرئيسية</a>
        <span class="breadcrumb-item fs-16 active">تعديل الملف الشخصى</span>
      </div>
    </nav>
  </div>
</div>

<div class="container py-5">
    <form [formGroup]="editProfileForm" (ngSubmit)="onSubmit()">
        <div class="main-card pt-5">
            <div class="mb-5">
              <h3 class="fw-bold fa-22 text-primary mb-4">البيانات الشخصيه</h3>
              <div class="row">
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">رقم الهويه</label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="userName" />


                </div>
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <!--[minGreg]="minGreg" [minHijri]="minHigriDate"-->
                  <hijri-gregorian-datepicker
                    id="date"
                    [(selectedDate)]="date"
                    [placeHolder]="'register.labels.dateComponent' | translate"
                    [isRequired]="false"
                    [GregLabel]="'register.labels.greg' | translate "
                    [hijriLabel]="'register.labels.higri' | translate "
                    [maxGreg]="maxGreg"
                    [maxHijri]="maxHigriDate"
                    [selectedDateType]="selectedDateType"
                    [label]="'register.labels.birthDate' | translate"
                    #birthDate
                  >
                  </hijri-gregorian-datepicker>
                  <small *ngIf="isFormSubmitted && isValidDate" class="danger">
                    {{"global.validators.requiredField" | translate }}</small>
                </div>

                <!--<div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">تاريخ الميلاد</label>
                  <input class="form-control input-lg" type="date" formControlName="birthdate" />
                </div>-->
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">النوع<span class="danger">*</span></label>
                  <select class="form-select input-lg" formControlName="isMale">
                    <option value="">اختر</option>
                    <option value="1">ذكر</option>
                    <option value="2">انثى</option>
                  </select>
                </div>
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">رقم جواز السفر</label>
                  <input class="form-control input-lg" type="text" placeholder="اكتب..." formControlName="passportId" />
                </div>

                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">الاسم الاول عربى<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="firstNameAr" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('firstNameAr').touched) && editProfileForm.get('firstNameAr').errors?.required
                  }"/>

                  <small *ngIf="(isFormSubmitted || editProfileForm.get('firstNameAr').touched) && editProfileForm.get('firstNameAr').errors?.required" class="danger">هذاالحقل مطلوب</small>

                </div>
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">الاسم الثانى عربى<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="secondNameAr" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('secondNameAr').touched) && editProfileForm.get('secondNameAr').errors?.required
                  }"/>

                  <small *ngIf="(isFormSubmitted || editProfileForm.get('secondNameAr').touched) && editProfileForm.get('secondNameAr').errors?.required" class="danger">هذاالحقل مطلوب</small>

                </div>

                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                <label class="fa-14 mb-1 fw-normal">الاسم الثالث عربى<span class="danger">*</span></label>
                <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="thirdNameAr" [ngClass]="{
                  invalid:
                    (isFormSubmitted || editProfileForm.get('thirdNameAr').touched) && editProfileForm.get('thirdNameAr').errors?.required
                }"/>

                <small *ngIf="(isFormSubmitted || editProfileForm.get('thirdNameAr').touched) && editProfileForm.get('thirdNameAr').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">الاسم الأخير عربى<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="lastNameAr" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('lastNameAr').touched) && editProfileForm.get('lastNameAr').errors?.required
                  }"/>

                  <small *ngIf="(isFormSubmitted || editProfileForm.get('lastNameAr').touched) && editProfileForm.get('lastNameAr').errors?.required" class="danger">هذاالحقل مطلوب</small>

                </div>

                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                <label class="fa-14 mb-1 fw-normal">الاسم الاول إنجليزى<span class="danger">*</span></label>
                <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="firstNameEn" [ngClass]="{
                  invalid:
                    (isFormSubmitted || editProfileForm.get('firstNameEn').touched) && editProfileForm.get('firstNameEn').errors?.required
                }"/>

                <small *ngIf="(isFormSubmitted || editProfileForm.get('firstNameEn').touched) && editProfileForm.get('firstNameEn').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                <label class="fa-14 mb-1 fw-normal">الاسم الثانى إنجليزى<span class="danger">*</span></label>
                <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="secondNameEn" [ngClass]="{
                  invalid:
                    (isFormSubmitted || editProfileForm.get('secondNameEn').touched) && editProfileForm.get('secondNameEn').errors?.required
                }"/>

                <small *ngIf="(isFormSubmitted || editProfileForm.get('secondNameEn').touched) && editProfileForm.get('secondNameEn').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>

                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">الاسم الثالث إنجليزى<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="thirdNameEn" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('thirdNameEn').touched) && editProfileForm.get('thirdNameEn').errors?.required
                  }"/>

                <small *ngIf="(isFormSubmitted || editProfileForm.get('thirdNameEn').touched) && editProfileForm.get('thirdNameEn').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>
                <div class="col-xl-3 col-lg-4 col-sm-6 mb-3">
                  <label class="fa-14 mb-1 fw-normal">الاسم الاخير إنجليزى<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="lastNameEn" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('lastNameEn').touched) && editProfileForm.get('lastNameEn').errors?.required
                  }"/>

                <small *ngIf="(isFormSubmitted || editProfileForm.get('lastNameEn').touched) && editProfileForm.get('lastNameEn').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>

              </div>
            </div>

            <div class="mb-5">
              <h3 class="fw-bold fa-22 text-primary mb-4">بيانات التسجيل</h3>
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label class="fa-14 mb-1 fw-normal">كلمة المرور</label>
                  <input class="form-control input-lg" type="password" placeholder="اكتب..." formControlName="newPassword" />
                </div>

                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label class="fa-14 mb-1 fw-normal">تاكيد كلمة المرور</label>
                  <input class="form-control input-lg" type="password" placeholder="اكتب..." formControlName="confirmNewpassword" />
                </div>
              </div>
            </div>

            <div>
              <h3 class="fw-bold fa-22 text-primary mb-4">بيانات الإتصال</h3>
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label class="fa-14 mb-1 fw-normal">رقم الهاتف<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="phoneNumber" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('phoneNumber').touched) && editProfileForm.get('phoneNumber').errors?.required
                  }" />

                  <small *ngIf="(isFormSubmitted || editProfileForm.get('phoneNumber').touched) && editProfileForm.get('phoneNumber').errors?.required" class="danger">هذاالحقل مطلوب</small>
                  <small *ngIf="(isFormSubmitted || editProfileForm.get('phoneNumber').touched) && !editProfileForm.get('phoneNumber').errors?.isValid"
                    class="danger">رقم الجوال يبدأ ب 966 و يتكون من 12 رقم</small>
                </div>
                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label class="fa-14 mb-1 fw-normal">البريد الالكتروني<span class="danger">*</span></label>
                  <input type="text" class="form-control input-lg" placeholder="اكتب..." formControlName="email" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('email').touched) && editProfileForm.get('email').errors?.required
                  }" />

                  <small *ngIf="(isFormSubmitted || editProfileForm.get('email').touched) && editProfileForm.get('email').errors?.required" class="danger">هذاالحقل مطلوب</small>
                  <small *ngIf="(isFormSubmitted || editProfileForm.get('email').touched) && editProfileForm.get('email').errors?.email" class="danger">يجب إدخال بريد الالكتروني صحيح</small>

                </div>
                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label class="fa-14 mb-1 fw-normal">الجنسيه<span class="danger">*</span></label>
                  <select class="form-control form-select"
                          formControlName="nationalityId"
                          id="nationalityId">
                    <option [ngValue]="null">-- {{ 'register.labels.selectNationality' | translate }}  --</option>
                    <option *ngFor="let nationality of nationalities"
                            [ngValue]="nationality.id">
                      {{ nationality.name }}
                    </option>
                  </select>
                  <small *ngIf="(isFormSubmitted || editProfileForm.get('nationalityId').touched) && editProfileForm.get('nationalityId').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>
                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label for="" class="fa-14 mb-1 fw-normal">تحميل الصورة<span class="danger">*</span></label>
                  <img width="200px" height="100px" *ngIf="oldImage" [src]="oldImage?.base64File" />
                  <p-fileUpload #uploader chooseLabel="تحميل الصورة" [auto]="true" [customUpload]="isCustomUpload"
                                (uploadHandler)="onUpload($event)" (onRemove)="onRemove($event)" mode="advanced"
                                [accept]="acceptType" [maxFileSize]="fileSize">
                  </p-fileUpload>
                </div>
                <div class="col-xl-6 col-lg-6 col-sm-6 mb-6">
                  <label class="fa-14 mb-1 fw-normal">العنوان<span class="danger">*</span></label>
                  <textarea class="form-control input-lg" placeholder="اكتب..." rows="4" formControlName="address" [ngClass]="{
                    invalid:
                      (isFormSubmitted || editProfileForm.get('address').touched) && editProfileForm.get('address').errors?.required
                  }"></textarea>

                  <small *ngIf="(isFormSubmitted || editProfileForm.get('address').touched) && editProfileForm.get('address').errors?.required" class="danger">هذاالحقل مطلوب</small>
                </div>
              </div>
            </div>
          </div>

          <div class="d-flex justify-content-end mt-3">
            <button type="submit" class="btn btn-primary ms-3 px-4">حفظ</button>
            <a class="btn btn-secondary" routerLink="/profile">رجوع</a>
          </div>
    </form>
</div>
