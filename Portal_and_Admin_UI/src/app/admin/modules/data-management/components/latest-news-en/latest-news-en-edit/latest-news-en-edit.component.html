<div class="d-lg-flex justify-content-between align-items-center bread-container">
  <nav class="breadcrumb m-0 p-0 bg-transparent">
    <a class="breadcrumb-item fs-16" routerLink="/admin/home"><i class="las la-home fs-20"></i>الرئيسية</a>
    <a class="breadcrumb-item fs-16" [routerLink]="['/admin/data-management/latest-news-en-list']">أخر الأخبار انجليزي</a>
    <span class="breadcrumb-item fs-16 active">تعديل بيانات الخبر انجليزي</span>
  </nav>
</div>

<form [formGroup]="updateNewsform" (ngSubmit)="onSubmit()">
  <div class="form-card">
    <div class="form-header">
      <h5>تعديل بيانات الخبر انجليزي</h5>
    </div>
    <div class="form-content">
      <div class="row mx-0">
        <div class="form-group col-md-6">
          <label for="title" class="form-lbl">عنوان الخبر<span class="danger">*</span></label>
          <input type="text" class="form-control" formControlName="title" id="title" [ngClass]="{
              invalid:
                (isFormSubmitted || updateNewsform.get('title').touched) && updateNewsform.get('title').errors?.required
            }" />
          <small *ngIf="(isFormSubmitted || updateNewsform.get('title').touched) && updateNewsform.get('title').errors?.required" class="danger">هذاالحقل مطلوب</small>
        </div>
        <div class="form-group col-md-6">
          <label for="newsCategueryId" class="form-lbl">تصنيف الخبر<span class="danger">*</span></label>
          <select class="form-control form-select" formControlName="newsCategueryId" [ngClass]="{
              invalid:
                (isFormSubmitted || updateNewsform.get('newsCategueryId').touched) &&
                updateNewsform.get('newsCategueryId').errors?.required
            }">
            <option [ngValue]="null">-- اختر التصنيف --</option>
            <option *ngFor="let newsCateguery of newsCategueries" [ngValue]="newsCateguery.id">{{ newsCateguery.name }}</option>
          </select>
          <small *ngIf="(isFormSubmitted || updateNewsform.get('newsCategueryId').touched) && updateNewsform.get('newsCategueryId').errors?.required" class="danger">هذاالحقل مطلوب</small>
        </div>
        <div class="form-group col-md-12">
          <label for="content" class="form-lbl">محتوى الخبر<span class="danger">*</span></label>
          <textarea rows="8" class="form-control" formControlName="content" id="content" [ngClass]="{
              invalid:
                (isFormSubmitted || updateNewsform.get('content').touched) &&
                updateNewsform.get('content').errors?.required
            }"></textarea>
          <small *ngIf="(isFormSubmitted || updateNewsform.get('content').touched) && updateNewsform.get('content').errors?.required" class="danger">هذاالحقل مطلوب</small>
        </div>
        <div class="form-group col-md-6">
          <label for="newsOrigin" class="form-lbl">مصدر الخبر<span class="danger">*</span></label>
          <input type="text" class="form-control" formControlName="newsOrigin" id="newsOrigin" [ngClass]="{
              invalid:
                (isFormSubmitted || updateNewsform.get('newsOrigin').touched) && updateNewsform.get('newsOrigin').errors?.required
            }" />
          <small *ngIf="(isFormSubmitted || updateNewsform.get('newsOrigin').touched) && updateNewsform.get('newsOrigin').errors?.required" class="danger">هذاالحقل مطلوب</small>
        </div>
        <div class="form-group col-md-6">
          <hijri-gregorian-datepicker id="date" [placeHolder]="'سنة/شهر/يوم'"
                                      [(selectedDate)]="date"
                                      [isRequired]="true"
                                      [GregLabel]="'ميلادي'"
                                      [hijriLabel]="'هجري'"
                                      [selectedDateType]="selectedDateType"
                                      label="التاريخ"
                                      #datePicker>
          </hijri-gregorian-datepicker>
          <small *ngIf="(isFormSubmitted && isValidDate)" class="danger">هذاالحقل مطلوب</small>
        </div>
        <div class="form-group col-md-6">
          <label for="" class="form-lbl">تحميل الصورة<span class="danger">*</span></label>
          <img width="200px" height="100px" *ngIf="oldImage" [src]="sanitizer.bypassSecurityTrustResourceUrl(oldImage?.base64File)" />
          <p-fileUpload #uploader chooseLabel="تحميل الصورة" [auto]="true" [customUpload]="isCustomUpload"
                        (uploadHandler)="onUpload($event)" (onRemove)="onRemove($event)" [multiple]="isMultiple" mode="advanced"
                        accept="image/*" [maxFileSize]="fileSize">
          </p-fileUpload>
          <small *ngIf="(isFormSubmitted || updateNewsform.get('image').touched) && updateNewsform.get('image').errors?.required" class="danger">هذاالحقل مطلوب</small>
        </div>
        <div class="form-group col-md-6">
        </div>
        <div class="form-group col-6">
          <label class="container-check">
            فعال
            <input formControlName="isActive" type="checkbox" id="isActive" />
            <span class="checkmark"></span>
          </label>
        </div>
        <div class="form-group col-6">
          <label class="container-check">
            التعليقات مفتوحة
            <input formControlName="openComments" type="checkbox" id="openComments" />
            <span class="checkmark"></span>
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-save">حفظ</button>
    <a [routerLink]="['/admin/data-management/latest-news-en-list']" class="btn btn-cancel">رجوع</a>
  </div>
</form>
